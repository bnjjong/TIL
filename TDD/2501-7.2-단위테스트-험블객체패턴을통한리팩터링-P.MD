# 7.2 ê°€ì¹˜ ìˆëŠ” ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ë¦¬íŒ©í„°ë§í•˜ê¸°

## ê°œìš”
ì´ ì¥ì—ì„œëŠ” ì§€ë‚˜ì¹˜ê²Œ ë³µì¡í•œ ì½”ë“œë¥¼ ì•Œê³ ë¦¬ì¦˜ê³¼ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ë‚˜ëˆ„ëŠ” ì¢…í•©ì ì¸ ë¦¬íŒ©í„°ë§ ì˜ˆì œë¥¼ ë‹¤ë£¹ë‹ˆë‹¤. í—˜ë¸” ê°ì²´ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ ì—”í„°í”„ë¼ì´ì¦ˆê¸‰ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ì ìš©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ì¼ë°˜í™”í•©ë‹ˆë‹¤.

## 7.2.1 ê³ ê° ê´€ë¦¬ ì‹œìŠ¤í…œ(CRM) ì†Œê°œ

CRM ì‹œìŠ¤í…œì€ ì‚¬ìš©ì ë“±ë¡ì„ ì²˜ë¦¬í•˜ëŠ” ê³ ê° ê´€ë¦¬ ì‹œìŠ¤í…œìœ¼ë¡œ, ëª¨ë“  ì‚¬ìš©ìê°€ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë©ë‹ˆë‹¤. í˜„ì¬ ì‹œìŠ¤í…œì€ **ì‚¬ìš©ì ì´ë©”ì¼ ë³€ê²½**ì´ë¼ëŠ” ë‹¨ í•˜ë‚˜ì˜ ìœ ìŠ¤ì¼€ì´ìŠ¤ë§Œ ì§€ì›í•˜ë©°, ë‹¤ìŒ ì„¸ ê°€ì§€ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ì„ ê°€ì§‘ë‹ˆë‹¤:

1. **ì‚¬ìš©ì ì´ë©”ì¼ì´ íšŒì‚¬ ë„ë©”ì¸ì— ì†í•œ ê²½ìš°** í•´ë‹¹ ì‚¬ìš©ìëŠ” ì§ì›ìœ¼ë¡œ í‘œì‹œë˜ê³ , ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ ê³ ê°ìœ¼ë¡œ ê°„ì£¼
2. **ì‹œìŠ¤í…œì€ íšŒì‚¬ì˜ ì§ì› ìˆ˜ë¥¼ ì¶”ì **í•´ì•¼ í•˜ë©°, ì‚¬ìš©ì ìœ í˜•ì´ ë³€ê²½ë˜ë©´ ì´ ìˆ«ìë„ ë³€ê²½
3. **ì´ë©”ì¼ì´ ë³€ê²½ë˜ë©´** ì‹œìŠ¤í…œì€ ë©”ì‹œì§€ ë²„ìŠ¤ë¡œ ë©”ì‹œì§€ë¥¼ ë³´ë‚´ ì™¸ë¶€ ì‹œìŠ¤í…œì— ì•Œë¦¼

### AS-IS: ì´ˆê¸° êµ¬í˜„ (ë¬¸ì œì )
```kotlin
// AS-IS: ì§€ë‚˜ì¹˜ê²Œ ë³µì¡í•œ ì½”ë“œ (ë¬¸ì œê°€ ìˆëŠ” ì´ˆê¸° êµ¬í˜„)
enum class UserType {
    CUSTOMER, EMPLOYEE
}

class User {
    var userId: Int = 0
        private set
    var email: String = ""
        private set  
    var type: UserType = UserType.CUSTOMER
        private set
        
    fun changeEmail(userId: Int, newEmail: String) {
        // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ì •ë³´ ì§ì ‘ ì¡°íšŒ
        val data = Database.getUserById(userId)
        this.userId = userId
        this.email = data[1] as String
        this.type = data[2] as UserType
        
        if (email == newEmail) return
        
        // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ íšŒì‚¬ ì •ë³´ ì§ì ‘ ì¡°íšŒ 
        val companyData = Database.getCompany()
        val companyDomainName = companyData[0] as String
        val numberOfEmployees = companyData[1] as Int
        
        // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§: ì´ë©”ì¼ ë„ë©”ì¸ ê²€ì‚¬
        val emailDomain = newEmail.split("@")[1]
        val isEmailCorporate = emailDomain == companyDomainName
        val newType = if (isEmailCorporate) UserType.EMPLOYEE else UserType.CUSTOMER
        
        // ì§ì› ìˆ˜ ì—…ë°ì´íŠ¸
        if (type != newType) {
            val delta = if (newType == UserType.EMPLOYEE) 1 else -1
            val newNumber = numberOfEmployees + delta
            Database.saveCompany(newNumber) // ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ ì €ì¥
        }
        
        this.email = newEmail
        this.type = newType
        
        Database.saveUser(this) // ë°ì´í„°ë² ì´ìŠ¤ì— ì§ì ‘ ì €ì¥
        MessageBus.sendEmailChangedMessage(userId, newEmail) // ì™¸ë¶€ ì‹œìŠ¤í…œì— ì§ì ‘ í˜¸ì¶œ
    }
}

```

**ë¬¸ì œì  ë¶„ì„:**
- **ë³µì¡ë„**: ë†’ìŒ (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨)
- **ë„ë©”ì¸ ìœ ì˜ì„±**: ë†’ìŒ (í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™)
- **í˜‘ë ¥ì ìˆ˜**: ë§ìŒ (Database, MessageBus - í”„ë¡œì„¸ìŠ¤ ì™¸ë¶€ ì˜ì¡´ì„±)
- **ê²°ê³¼**: ì§€ë‚˜ì¹˜ê²Œ ë³µì¡í•œ ì½”ë“œë¡œ ë¶„ë¥˜ë˜ì–´ í…ŒìŠ¤íŠ¸í•˜ê¸° ë§¤ìš° ì–´ë ¤ì›€

## 7.2.2 1ë‹¨ê³„: ì•”ì‹œì  ì˜ì¡´ì„±ì„ ëª…ì‹œì ìœ¼ë¡œ ë§Œë“¤ê¸°

ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” ë°ì´í„°ë² ì´ìŠ¤ì™€ ë©”ì‹œì§€ ë²„ìŠ¤ì— ëŒ€í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“¤ê³  ì´ë¥¼ ì£¼ì…í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ëŠ” ì¶©ë¶„í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

**í•œê³„ì **: ë„ë©”ì¸ ëª¨ë¸ì´ ì—¬ì „íˆ í”„ë¡œì„¸ìŠ¤ ì™¸ë¶€ ì˜ì¡´ì„±ì— ì˜ì¡´í•˜ë¯€ë¡œ ë³µì¡í•œ ëª© ì²´ê³„ê°€ í•„ìš”í•˜ê³ , í…ŒìŠ¤íŠ¸ ì·¨ì•½ì„±ì„ ì•¼ê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## 7.2.3 2ë‹¨ê³„: ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ ê³„ì¸µ ë„ì…

ë„ë©”ì¸ ëª¨ë¸ì´ ì™¸ë¶€ ì‹œìŠ¤í…œê³¼ ì§ì ‘ í†µì‹ í•˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **í—˜ë¸” ì»¨íŠ¸ë¡¤ëŸ¬(Humble Controller)**, ì¦‰ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ë¥¼ ë„ì…í•©ë‹ˆë‹¤.

```kotlin
// 2ë‹¨ê³„: ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ ë„ì…
class UserController {
    private val database = Database()
    private val messageBus = MessageBus()
    
    fun changeEmail(userId: Int, newEmail: String) {
        // ë°ì´í„°ë² ì´ìŠ¤ì—ì„œ ì‚¬ìš©ì ë°ì´í„° ì¡°íšŒ
        val data = database.getUserById(userId)
        val email = data[1] as String
        val type = data[2] as UserType
        val user = User(userId, email, type)
        
        // íšŒì‚¬ ë°ì´í„° ì¡°íšŒ
        val companyData = database.getCompany()
        val companyDomainName = companyData[0] as String
        val numberOfEmployees = companyData[1] as Int
        
        // ë„ë©”ì¸ ë¡œì§ ì‹¤í–‰
        val newNumberOfEmployees = user.changeEmail(
            newEmail, companyDomainName, numberOfEmployees
        )
        
        // ë³€ê²½ì‚¬í•­ ì €ì¥ ë° ì™¸ë¶€ ì‹œìŠ¤í…œ ì•Œë¦¼
        database.saveCompany(newNumberOfEmployees)
        database.saveUser(user)
        messageBus.sendEmailChangedMessage(userId, newEmail)
    }
}

class User(
    val userId: Int,
    var email: String,
    var type: UserType
) {
    // ìˆœìˆ˜í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë§Œ í¬í•¨ (í”„ë¡œì„¸ìŠ¤ ì™¸ë¶€ ì˜ì¡´ì„± ì œê±°)
    fun changeEmail(
        newEmail: String, 
        companyDomainName: String, 
        numberOfEmployees: Int
    ): Int {
        if (email == newEmail) return numberOfEmployees
        
        val emailDomain = newEmail.split("@")[1]
        val isEmailCorporate = emailDomain == companyDomainName
        val newType = if (isEmailCorporate) UserType.EMPLOYEE else UserType.CUSTOMER
        
        var updatedEmployeeCount = numberOfEmployees
        if (type != newType) {
            val delta = if (newType == UserType.EMPLOYEE) 1 else -1
            updatedEmployeeCount += delta
        }
        
        this.email = newEmail
        this.type = newType
        
        return updatedEmployeeCount
    }
}

```

## 7.2.4 3ë‹¨ê³„: ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤ ë³µì¡ë„ ë‚®ì¶”ê¸°

UserControllerê°€ í™•ì‹¤íˆ ì»¨íŠ¸ë¡¤ëŸ¬ ì‚¬ë¶„ë©´ì— ìœ„ì¹˜í•˜ë ¤ë©´ ì¬êµ¬ì„± ë¡œì§ì„ ì¶”ì¶œí•´ì•¼ í•©ë‹ˆë‹¤. ì´ë¥¼ ìœ„í•´ **íŒ©í† ë¦¬ í´ë˜ìŠ¤**ë¥¼ ë„ì…í•©ë‹ˆë‹¤.

```kotlin
// 3ë‹¨ê³„: íŒ©í† ë¦¬ í´ë˜ìŠ¤ë¥¼ í†µí•œ ì¬êµ¬ì„± ë¡œì§ ë¶„ë¦¬
class UserFactory {
    companion object {
        fun create(data: Array<Any>): User {
            require(data.size >= 3) { "ë°ì´í„° ë°°ì—´ì—ëŠ” ìµœì†Œ 3ê°œì˜ ìš”ì†Œê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤" }
            
            val id = data[0] as Int
            val email = data[1] as String  
            val type = data[2] as UserType
            
            return User(id, email, type)
        }
    }
}

class CompanyFactory {
    companion object {
        fun create(data: Array<Any>): Company {
            require(data.size >= 2) { "ë°ì´í„° ë°°ì—´ì—ëŠ” ìµœì†Œ 2ê°œì˜ ìš”ì†Œê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤" }
            
            val domainName = data[0] as String
            val numberOfEmployees = data[1] as Int
            
            return Company(domainName, numberOfEmployees)
        }
    }
}

```

**ì¬êµ¬ì„± ë¡œì§ì˜ íŠ¹ì§•**: ë³µì¡í•˜ì§€ë§Œ ë„ë©”ì¸ ìœ ì˜ì„±ì´ ì—†ëŠ” ìœ í‹¸ë¦¬í‹° ì½”ë“œì…ë‹ˆë‹¤. ìˆ¨ì€ ë¶„ê¸°ì (ë°°ì—´ ì ‘ê·¼, íƒ€ì… ìºìŠ¤íŒ… ë“±)ì´ ìˆì–´ í…ŒìŠ¤íŠ¸í•  ê°€ì¹˜ê°€ ìˆìŠµë‹ˆë‹¤.

## 7.2.5 4ë‹¨ê³„: ìƒˆ Company í´ë˜ìŠ¤ ì†Œê°œ

Userì—ì„œ íšŒì‚¬ ê´€ë ¨ ë¡œì§ì„ ë¶„ë¦¬í•˜ì—¬ ì±…ì„ì„ ëª…í™•íˆ í•˜ê³  **"ë¬»ì§€ ë§ê³  ë§í•˜ë¼"** ì›ì¹™ì„ ì ìš©í•©ë‹ˆë‹¤.

### TO-BE: ìµœì¢… ë¦¬íŒ©í„°ë§ëœ êµ¬í˜„
```kotlin
// TO-BE: ë¦¬íŒ©í„°ë§ ì™„ë£Œëœ ê¹”ë”í•œ êµ¬í˜„

// ë„ë©”ì¸ ëª¨ë¸: Company í´ë˜ìŠ¤
class Company(
    val domainName: String,
    private var _numberOfEmployees: Int
) {
    val numberOfEmployees: Int
        get() = _numberOfEmployees
    
    // ì§ì› ìˆ˜ ë³€ê²½ ë¡œì§ ìº¡ìŠí™”
    fun changeNumberOfEmployees(delta: Int) {
        require(_numberOfEmployees + delta >= 0) { 
            "ì§ì› ìˆ˜ëŠ” 0ë³´ë‹¤ ì‘ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤" 
        }
        _numberOfEmployees += delta
    }
    
    // íšŒì‚¬ ì´ë©”ì¼ ì—¬ë¶€ íŒë‹¨ ë¡œì§ ìº¡ìŠí™”
    fun isEmailCorporate(email: String): Boolean {
        val emailDomain = email.split("@")[1]
        return emailDomain == domainName
    }
}

// ë„ë©”ì¸ ëª¨ë¸: User í´ë˜ìŠ¤ (ìµœì¢… ë²„ì „)
class User(
    val userId: Int,
    private var _email: String,
    private var _type: UserType
) {
    val email: String get() = _email
    val type: UserType get() = _type
    
    // ìˆœìˆ˜í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, Company ê°ì²´ì™€ í˜‘ë ¥
    fun changeEmail(newEmail: String, company: Company) {
        if (_email == newEmail) return
        
        // Companyì—ê²Œ ì´ë©”ì¼ ê²€ì¦ ìœ„ì„
        val newType = if (company.isEmailCorporate(newEmail)) {
            UserType.EMPLOYEE
        } else {
            UserType.CUSTOMER  
        }
        
        // íƒ€ì…ì´ ë³€ê²½ë˜ë©´ Companyì—ê²Œ ì§ì› ìˆ˜ ë³€ê²½ ìš”ì²­
        if (_type != newType) {
            val delta = if (newType == UserType.EMPLOYEE) 1 else -1
            company.changeNumberOfEmployees(delta)
        }
        
        _email = newEmail
        _type = newType
    }
}

// ì• í”Œë¦¬ì¼€ì´ì…˜ ì„œë¹„ìŠ¤: ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ë§Œ ë‹´ë‹¹
class UserController(
    private val database: Database,
    private val messageBus: MessageBus
) {
    fun changeEmail(userId: Int, newEmail: String) {
        // ë°ì´í„° ì¡°íšŒ ë° ê°ì²´ ìƒì„±
        val userData = database.getUserById(userId)
        val user = UserFactory.create(userData)
        
        val companyData = database.getCompany()
        val company = CompanyFactory.create(companyData)
        
        // ë„ë©”ì¸ ë¡œì§ ì‹¤í–‰ (ìˆœìˆ˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)
        user.changeEmail(newEmail, company)
        
        // ì˜ì†í™” ë° ì™¸ë¶€ ì‹œìŠ¤í…œ ì•Œë¦¼ (ì‚¬ì´ë“œ ì´í™íŠ¸)
        database.saveCompany(company)
        database.saveUser(user)
        messageBus.sendEmailChangedMessage(userId, newEmail)
    }
}

```

### KoTestë¥¼ í™œìš©í•œ í…ŒìŠ¤íŠ¸ ì˜ˆì œ
```kotlin
import io.kotest.core.spec.style.BehaviorSpec
import io.kotest.matchers.shouldBe
import io.kotest.matchers.shouldNotBe

class UserEmailChangeTest : BehaviorSpec({
    
    Given("íšŒì‚¬ì™€ ê³ ê° ì‚¬ìš©ìê°€ ì£¼ì–´ì¡Œì„ ë•Œ") {
        val company = Company("company.com", 10)
        val customer = User(1, "john@external.com", UserType.CUSTOMER)
        
        When("íšŒì‚¬ ë„ë©”ì¸ ì´ë©”ì¼ë¡œ ë³€ê²½í•˜ë©´") {
            customer.changeEmail("john@company.com", company)
            
            Then("ì‚¬ìš©ìëŠ” ì§ì›ì´ ë˜ê³  ì§ì› ìˆ˜ëŠ” ì¦ê°€í•œë‹¤") {
                customer.type shouldBe UserType.EMPLOYEE
                customer.email shouldBe "john@company.com"
                company.numberOfEmployees shouldBe 11
            }
        }
    }
    
    Given("íšŒì‚¬ ì§ì›ì´ ì£¼ì–´ì¡Œì„ ë•Œ") {
        val company = Company("company.com", 10)
        val employee = User(2, "jane@company.com", UserType.EMPLOYEE)
        
        When("ì™¸ë¶€ ì´ë©”ì¼ë¡œ ë³€ê²½í•˜ë©´") {
            employee.changeEmail("jane@gmail.com", company)
            
            Then("ì‚¬ìš©ìëŠ” ê³ ê°ì´ ë˜ê³  ì§ì› ìˆ˜ëŠ” ê°ì†Œí•œë‹¤") {
                employee.type shouldBe UserType.CUSTOMER
                employee.email shouldBe "jane@gmail.com"
                company.numberOfEmployees shouldBe 9
            }
        }
    }
    
    Given("Company í´ë˜ìŠ¤ í…ŒìŠ¤íŠ¸") {
        val company = Company("company.com", 5)
        
        When("íšŒì‚¬ ì´ë©”ì¼ì¸ì§€ í™•ì¸í•˜ë©´") {
            val isCorporate = company.isEmailCorporate("user@company.com")
            val isNotCorporate = company.isEmailCorporate("user@gmail.com")
            
            Then("ì˜¬ë°”ë¥´ê²Œ íŒë‹¨í•œë‹¤") {
                isCorporate shouldBe true
                isNotCorporate shouldBe false
            }
        }
    }
}

```

## 7.3 ìµœì ì˜ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ë¶„ì„
![alt text](./images/2501-7.2-ë‹¨ìœ„í…ŒìŠ¤íŠ¸-í—˜ë¸”ê°ì²´íŒ¨í„´ì„í†µí•œë¦¬íŒ©í„°ë§-P-1.png)

í—˜ë¸” ê°ì²´ íŒ¨í„´ì„ ì‚¬ìš©í•œ ë¦¬íŒ©í„°ë§ í›„ì˜ ì½”ë“œ ë¶„ë¥˜ëŠ” ë‹¤ìŒ í‘œì™€ ê°™ìŠµë‹ˆë‹¤:
| ì½”ë“œ ìœ í˜• | í˜‘ë ¥ì ìˆ˜ | ë³µì¡ë„ì™€ ë„ë©”ì¸ ìœ ì˜ì„± | ì˜ˆì‹œ ë©”ì„œë“œ |
|-----------|-----------|----------------------|------------|
| **ë„ë©”ì¸ ëª¨ë¸ ë° ì•Œê³ ë¦¬ì¦˜** | ê±°ì˜ ì—†ìŒ | ë†’ìŒ | Userì˜ ChangeEmail(newEmail, company), Companyì˜ ChangeNumberOfEmployees(delta)ì™€ IsEmailCorporate(email), CompanyFactoryì˜ Create(data) |
| **ê°„ë‹¨í•œ ì½”ë“œ** | ê±°ì˜ ì—†ìŒ | ë‚®ìŒ | Userì™€ Companyì˜ ìƒì„±ì |
| **ì§€ë‚˜ì¹˜ê²Œ ë³µì¡í•œ ì½”ë“œ** | ë§ìŒ | ë†’ìŒ | ë¦¬íŒ©í„°ë§ ì „ User.ChangeEmail ë©”ì„œë“œ |
| **ì»¨íŠ¸ë¡¤ëŸ¬** | ë§ìŒ | ë‚®ìŒ | UserControllerì˜ ChangeEmail(userId, newMail) |

### 7.3.1 ë„ë©”ì¸ ê³„ì¸µê³¼ ìœ í‹¸ë¦¬í‹° ì½”ë“œ í…ŒìŠ¤íŠ¸í•˜ê¸°

**ì¢Œì¸¡ ìƒë‹¨(ë„ë©”ì¸ ëª¨ë¸ ë° ì•Œê³ ë¦¬ì¦˜)** ì½”ë“œëŠ” ë¹„ìš© í¸ìµ ì¸¡ë©´ì—ì„œ ìµœìƒì˜ ê²°ê³¼ë¥¼ ê°€ì ¸ë‹¤ì¤ë‹ˆë‹¤:
- **ë†’ì€ ë³µì¡ë„ì™€ ë„ë©”ì¸ ìœ ì˜ì„±**: ë›°ì–´ë‚œ íšŒê·€ ë°©ì§€
- **ì ì€ í˜‘ë ¥ì**: ë‚®ì€ ìœ ì§€ë¹„
- **í…ŒìŠ¤íŠ¸ ìš©ì´ì„±**: ì¶œë ¥ ê¸°ë°˜ ë° ìƒíƒœ ê¸°ë°˜ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

## í•µì‹¬ ê°œë… ë° ì´ì 
### í—˜ë¸” ê°ì²´ íŒ¨í„´ì˜ ì›ë¦¬
> ğŸ¤” ë‚˜ì—ê² SOLIDí•˜ê²Œ ë¦¬íŒ©í† ë§ ì •ë„ì˜ ëŠë‚Œ. ë­”ê°€ í—˜ë¸” íŒ¨í„´ì´ë¼ê³  ì´ë¦„ì„ ë¶™ì—¬ì•¼ ë˜ëŠ”ê°€..?
1. **ë¶„ë¦¬ì˜ ì›ì¹™**: í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ í–‰ìœ„ì™€ ì‰¬ìš´ í–‰ìœ„ë¥¼ ë¶„ë¦¬
2. **ì±…ì„ ë¶„ë¦¬**: ê° í´ë˜ìŠ¤ê°€ ë‹¨ì¼ ì±…ì„ì„ ê°€ì§€ë„ë¡ ì„¤ê³„
3. **ì˜ì¡´ì„± ì—­ì „**: ë„ë©”ì¸ ëª¨ë¸ì´ ì™¸ë¶€ ì˜ì¡´ì„±ì— ì˜ì¡´í•˜ì§€ ì•ŠìŒ

### í•¨ìˆ˜í˜• ì•„í‚¤í…ì²˜ì™€ì˜ ìœ ì‚¬ì 
- **ê³µí†µì **: í”„ë¡œì„¸ìŠ¤ ì™¸ë¶€ ì˜ì¡´ì„±ê³¼ ê²©ë¦¬ëœ ì½”ì–´
- **ì°¨ì´ì **: 
  - í•¨ìˆ˜í˜• ì½”ì–´: ì‚¬ì´ë“œ ì´í™íŠ¸ ì „í˜€ ì—†ìŒ
    > ê²°êµ­ ì´ë°©ì‹ì„ ê³„ì†í•´ì„œ ì§€í–¥í•´ì•¼ ë¨.
  - ë„ë©”ì¸ ëª¨ë¸: ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ë„ë©”ì¸ ëª¨ë¸ ë‚´ë¶€ì— ë‚¨ì•„ìˆìŒ

### í…ŒìŠ¤íŠ¸ ìš©ì´ì„± í–¥ìƒ
- **ì‚¬ì´ë“œ ì´í™íŠ¸ ì§€ì—°**: ë§ˆì§€ë§‰ ìˆœê°„ê¹Œì§€ ë©”ëª¨ë¦¬ì— ë³´ê´€
- **í”„ë¡œì„¸ìŠ¤ ì™¸ë¶€ ì˜ì¡´ì„± ë¶ˆí•„ìš”**: ëª©ì´ë‚˜ ìŠ¤í… ë¶ˆí•„ìš”
- **ì¶œë ¥ ê¸°ë°˜ í…ŒìŠ¤íŠ¸**: ë©”ëª¨ë¦¬ ê°ì²´ ê²€ì¦ìœ¼ë¡œ ì¶©ë¶„

## ìš”ì•½
7.2ì¥ì€ í—˜ë¸” ê°ì²´ íŒ¨í„´ì„ í†µí•œ ì²´ê³„ì ì¸ ë¦¬íŒ©í„°ë§ ê³¼ì •ì„ ë³´ì—¬ì£¼ì—ˆìŠµë‹ˆë‹¤:

**í•µì‹¬ ë³€í™”:**
- **AS-IS**: ì§€ë‚˜ì¹˜ê²Œ ë³µì¡í•œ User í´ë˜ìŠ¤ â†’ **TO-BE**: ì±…ì„ì´ ë¶„ë¦¬ëœ ì—¬ëŸ¬ í´ë˜ìŠ¤
- **AS-IS**: í”„ë¡œì„¸ìŠ¤ ì™¸ë¶€ ì˜ì¡´ì„±ì— ì§ì ‘ ê²°í•© â†’ **TO-BE**: ë„ë©”ì¸ ëª¨ë¸ì˜ ì™„ì „í•œ ê²©ë¦¬
- **AS-IS**: í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ êµ¬ì¡° â†’ **TO-BE**: ì¶œë ¥/ìƒíƒœ ê¸°ë°˜ìœ¼ë¡œ ì‰½ê²Œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

**ì£¼ìš” ì´ì :**
1. **í…ŒìŠ¤íŠ¸ ìš©ì´ì„± ê·¹ëŒ€í™”**: ë³µì¡í•œ ëª© ì²´ê³„ ë¶ˆí•„ìš”
2. **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**: ê° í´ë˜ìŠ¤ì˜ ëª…í™•í•œ ì±…ì„
3. **í™•ì¥ì„±**: ìƒˆë¡œìš´ ìš”êµ¬ì‚¬í•­ ì¶”ê°€ ì‹œ ì˜í–¥ ìµœì†Œí™”
4. **ì½”ë“œ í’ˆì§ˆ**: ê° ì½”ë“œê°€ ì ì ˆí•œ ì‚¬ë¶„ë©´ì— ìœ„ì¹˜

ì´ëŸ¬í•œ ë¦¬íŒ©í„°ë§ì„ í†µí•´ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì´ ì™„ì „íˆ ë¶„ë¦¬ë˜ì–´, ì–´ëŠ ë¶€ë¶„ì„ í…ŒìŠ¤íŠ¸ ë‹¨ìœ„ë¡œ í• ì§€ ì‰½ê²Œ ê²°ì •í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

## ê´€ë ¨ ìë£Œ
### í—˜ë¸” ê°ì²´ íŒ¨í„´ ìƒì„¸ ì„¤ëª…
- [Martin Fowler - Humble Object](https://martinfowler.com/bliki/HumbleObject.html) - í—˜ë¸” ê°ì²´ íŒ¨í„´ì˜ ì°½ì‹œìì¸ Martin Fowlerì˜ ì„¤ëª…
- [Clean Architectureì˜ í—˜ë¸” ê°ì²´](https://share-factory.tistory.com/34) - í—˜ë¸” ê°ì²´ íŒ¨í„´ì˜ í•œêµ­ì–´ ì„¤ëª…

### ìœ¡ê°í˜• ì•„í‚¤í…ì²˜
- [Hexagonal Architecture ì´í•´í•˜ê¸°](https://gngsn.tistory.com/258) - í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ì˜ í•µì‹¬ ê°œë…
- [ìœ¡ê°í˜• ì•„í‚¤í…ì²˜ ìƒì„¸ ê°€ì´ë“œ](https://velog.io/@mino_dev/ìœ¡ê°í˜•-ì•„í‚¤í…ì²˜Hexagonal-Architecture) - í¬íŠ¸ì™€ ì–´ëŒ‘í„° íŒ¨í„´

### í•¨ìˆ˜í˜• ì½”ì–´, ëª…ë ¹í˜• ì…¸
- [Functional Core, Imperative Shell íŒ¨í„´](https://kennethlange.com/functional-core-imperative-shell/) - Gary Bernhardtì˜ ì•„í‚¤í…ì²˜ íŒ¨í„´



[1] https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/32004849/8fd0a8e0-4d24-427a-8690-d3e9d165924e/2501-danwi-teseuteu-pages-230-242.pdf
[2] https://www.geeksforgeeks.org/computer-science-fundamentals/find-quadrant-of-the-coordinate-point/
[3] https://journal.optivem.com/p/unit-testing-use-cases-or-domain
[4] https://www.mulesoft.com/resources/esb/what-application-orchestration
[5] https://kennethlange.com/functional-core-imperative-shell/
[6] https://www.patterns.dev/vanilla/factory-pattern/
[7] https://www.cis.jhu.edu/~yqin/cvrg/Quadrant_Tree_Classifier.htm
[8] https://matthiasnoback.nl/2021/03/testing-controllers-when-you-have-a-decoupled-core/
[9] https://www.databricks.com/glossary/orchestration
[10] https://github.com/albertllousas/functional-core-imperative-shell
[11] https://en.wikipedia.org/wiki/Factory_method_pattern
[12] https://www.cliffsnotes.com/study-notes/27726553
[13] https://learn.microsoft.com/en-us/aspnet/core/mvc/controllers/testing?view=aspnetcore-9.0
[14] https://www.hitachivantara.com/ko-kr/insights/faq/application-orchestration
[15] https://ricofritzsche.me/applying-functional-core-and-imperative-shell-in-practice/
[16] https://refactoring.guru/design-patterns/factory-method
[17] https://www.alibabacloud.com/blog/602134
[18] https://enterprisecraftsmanship.com/posts/domain-model-purity-completeness/
[19] https://www.advsyscon.com/blog/service-orchestration-what-is/
[20] https://www.reddit.com/r/ExperiencedDevs/comments/1hwtpj1/do_you_use_the_functional_core_imperative_shell/
[21] https://www.geeksforgeeks.org/system-design/factory-method-for-designing-pattern/
[22] https://share-factory.tistory.com/34
[23] https://www.ibm.com/kr-ko/think/topics/technical-debt
[24] https://jja2han.tistory.com/296
[25] https://velog.io/@mino_dev/%EC%9C%A1%EA%B0%81%ED%98%95-%EC%95%84%ED%82%A4%ED%85%8D%EC%B3%90Hexagonal-Architecture
[26] https://jonghoonpark.com/2023/10/26/%ED%94%84%EB%A0%88%EC%A0%A0%ED%84%B0%EC%99%80-%ED%97%98%EB%B8%94-%EA%B0%9D%EC%B2%B4
[27] https://ko.russianponovo.com/power-amplifier-for-real-time-dynamic-simulation/4-quadrant-power-amplifier/
[28] https://doomdevlog.tistory.com/37
[29] https://github.com/rlaisqls/TIL/blob/main/%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%E2%80%85%EB%B0%8F%E2%80%85%EB%B0%A9%EB%B2%95%EB%A1%A0/HexagonalArchitecture.md
[30] https://ocwokocw.tistory.com/43
[31] https://kss.or.kr/homepage/custom/statistics
[32] https://ssico.tistory.com/76
[33] https://gngsn.tistory.com/258
[34] https://dheldh77.tistory.com/entry/Clean-Architecture-%EC%A0%95%EB%A6%AC-23%EC%9E%A5-%ED%94%84%EB%A0%88%EC%A0%A0%ED%84%B0%EC%99%80-%ED%97%98%EB%B8%94-%EA%B0%9D%EC%B2%B4
[35] https://patents.google.com/patent/KR20160087775A/ko
[36] https://velog.io/@hyun6ik/Layer-%EA%B3%84%EC%B8%B5
[37] https://devocean.sk.com/blog/techBoardDetail.do?ID=165581&boardType=techBlog
[38] https://reimaginer.tistory.com/entry/%ED%85%8C%EC%8A%A4%ED%8A%B8%EC%97%90-%EB%8C%80%ED%95%9C-%EC%8B%A4%EC%9A%A9%EC%A0%81%EC%9D%B8-%EC%A0%91%EA%B7%BC-Humble-Object-Pattern
[39] https://www.appbuilder.dev/ko/blog/reduce-tech-debt-with-low-code-tools
[40] https://tjdtls690.github.io/studycontents/java/2023-04-24-service_layer/
[41] https://nodejs.myeongjae.kim/pages/002-hexagonal-architecture/